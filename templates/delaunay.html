<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triangula√ß√£o de Delaunay</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/delaunay.css') }}">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üî∫ TRIANGULA√á√ÉO DE DELAUNAY</h1>
            <p class="subtitle">Maximiza√ß√£o dos √¢ngulos m√≠nimos e dualidade com Voronoi</p>
        </header>

        <main class="main-content">
            <div class="visualization-section">
                <div class="canvas-container">
                    <canvas id="delaunayCanvas"></canvas>
                    <div class="canvas-info">
                        <p><strong>Como usar:</strong> Clique para adicionar pontos ‚Ä¢ Arraste para mover ‚Ä¢ Clique com direito para remover</p>
                    </div>
                </div>
                
                <div class="algorithm-info">
                    <h2>üìã Sobre Triangula√ß√£o de Delaunay</h2>
                    <div class="info-content">
                        <p>Uma triangula√ß√£o de Delaunay para um conjunto de pontos P no plano √© uma triangula√ß√£o DT(P) tal que nenhum ponto em P est√° dentro da circunfer√™ncia circunscrita de qualquer tri√¢ngulo em DT(P).</p>
                        
                        <h3>Propriedades Principais:</h3>
                        <ul>
                            <li><strong>Maximiza√ß√£o do √¢ngulo m√≠nimo:</strong> Maximiza o menor √¢ngulo de todos os tri√¢ngulos</li>
                            <li><strong>Propriedade do c√≠rculo vazio:</strong> Nenhum ponto dentro do c√≠rculo circunscrito</li>
                            <li><strong>Dualidade com Voronoi:</strong> O dual geom√©trico do diagrama de Voronoi</li>
                            <li><strong>Unicidade:</strong> √önica quando n√£o h√° 4 pontos cocirculares</li>
                        </ul>
                        
                        <h3>Algoritmos Comuns:</h3>
                        <ul>
                            <li><strong>Incremental (Bowyer-Watson):</strong> O(n¬≤) no pior caso, O(n log n) esperado</li>
                            <li><strong>Divis√£o e Conquista:</strong> O(n log n) determin√≠stico</li>
                            <li><strong>Varredura (Fortune modificado):</strong> O(n log n)</li>
                            <li><strong>Flip Algorithm:</strong> Baseado em flips de arestas</li>
                        </ul>
                        
                        <h3>Aplica√ß√µes:</h3>
                        <ul>
                            <li>üñ•Ô∏è Computa√ß√£o gr√°fica e malhas</li>
                            <li>üó∫Ô∏è Sistemas de informa√ß√£o geogr√°fica (GIS)</li>
                            <li>üî¨ Interpola√ß√£o e an√°lise espacial</li>
                            <li>üéÆ Gera√ß√£o procedural de terrenos</li>
                            <li>üì° Redes de sensores sem fio</li>
                        </ul>
                        
                        <div class="theorem">
                            <h4>Teorema da Dualidade:</h4>
                            <p>A triangula√ß√£o de Delaunay √© o dual geom√©trico do diagrama de Voronoi. Cada tri√¢ngulo de Delaunay corresponde a um v√©rtice de Voronoi (circuncentro).</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="controls-section">
                <div class="control-panel">
                    <h2>üéÆ Controles</h2>
                    
                    <div class="control-group">
                        <h3>Pontos</h3>
                        <div class="button-grid">
                            <button id="addPointBtn" class="btn btn-primary">
                                <span class="btn-icon">+</span> Adicionar Ponto
                            </button>
                            <button id="clearBtn" class="btn btn-danger">
                                <span class="btn-icon">üóë</span> Limpar Tudo
                            </button>
                            <button id="randomBtn" class="btn btn-info">
                                <span class="btn-icon">üé≤</span> Aleat√≥rio
                            </button>
                            <button id="loadPresetBtn" class="btn btn-secondary">
                                <span class="btn-icon">üìÅ</span> Presets
                            </button>
                        </div>
                        
                        <div class="slider-control">
                            <label for="pointCount">N√∫mero de pontos:</label>
                            <input type="range" id="pointCount" min="3" max="100" value="20">
                            <span id="pointCountValue" class="value-display">20</span>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>Visualiza√ß√£o</h3>
                        <div class="button-grid">
                            <button id="toggleTrianglesBtn" class="btn btn-success active">
                                <span class="btn-icon">üî∫</span> Tri√¢ngulos
                            </button>
                            <button id="toggleCircumcirclesBtn" class="btn btn-warning">
                                <span class="btn-icon">‚ö´</span> C√≠rculos
                            </button>
                            <button id="togglePointsBtn" class="btn btn-success active">
                                <span class="btn-icon">‚Ä¢</span> Pontos
                            </button>
                            <button id="toggleVoronoiBtn" class="btn btn-info">
                                <span class="btn-icon">üìê</span> Voronoi
                            </button>
                            <button id="toggleConvexHullBtn" class="btn btn-secondary">
                                <span class="btn-icon">‚≠ï</span> Fecho Convexo
                            </button>
                            <button id="toggleAnglesBtn" class="btn btn-secondary">
                                <span class="btn-icon">üìê</span> √Çngulos
                            </button>
                        </div>
                        
                        <div class="checkbox-control">
                            <label>
                                <input type="checkbox" id="showGrid" checked>
                                Mostrar grade
                            </label>
                            <label>
                                <input type="checkbox" id="showIndexes">
                                Mostrar √≠ndices
                            </label>
                            <label>
                                <input type="checkbox" id="animateFlips">
                                Animar flips
                            </label>
                        </div>
                    </div>

                    <div class="control-group">
                        <h3>Algoritmo</h3>
                        <div class="algorithm-selector">
                            <label for="algorithmSelect">Selecionar algoritmo:</label>
                            <select id="algorithmSelect">
                                <option value="bowyerWatson">Bowyer-Watson (Incremental)</option>
                                <option value="divideConquer">Divis√£o e Conquista</option>
                                <option value="flipAlgorithm">Flip Algorithm</option>
                                <option value="bruteForce">For√ßa Bruta (demo)</option>
                            </select>
                        </div>
                        
                        <div class="button-grid">
                            <button id="stepBtn" class="btn btn-primary">
                                <span class="btn-icon">‚ñ∂</span> Passo a Passo
                            </button>
                            <button id="runBtn" class="btn btn-success">
                                <span class="btn-icon">‚ñ∂‚ñ∂</span> Executar
                            </button>
                            <button id="pauseBtn" class="btn btn-warning" disabled>
                                <span class="btn-icon">‚è∏</span> Pausar
                            </button>
                            <button id="resetBtn" class="btn btn-secondary">
                                <span class="btn-icon">‚Üª</span> Reiniciar
                            </button>
                        </div>
                        
                        <div class="slider-control">
                            <label for="speedSlider">Velocidade anima√ß√£o:</label>
                            <input type="range" id="speedSlider" min="1" max="100" value="30">
                            <span id="speedValue" class="value-display">30</span>
                        </div>
                    </div>

                    <div class="stats-panel">
                        <h3>üìä Estat√≠sticas</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-label">Pontos:</span>
                                <span id="totalPoints" class="stat-value">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Tri√¢ngulos:</span>
                                <span id="totalTriangles" class="stat-value">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Arestas:</span>
                                <span id="totalEdges" class="stat-value">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Flips:</span>
                                <span id="totalFlips" class="stat-value">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">√Çngulo m√≠nimo:</span>
                                <span id="minAngle" class="stat-value">0¬∞</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Tempo:</span>
                                <span id="calcTime" class="stat-value">0ms</span>
                            </div>
                        </div>
                    </div>

                    <div class="legend">
                        <h3>üé® Legenda</h3>
                        <div class="legend-items">
                            <div class="legend-item">
                                <div class="color-box" style="background: #4361ee;"></div>
                                <span>Pontos</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-box" style="background: rgba(74, 222, 128, 0.3);"></div>
                                <span>Tri√¢ngulos Delaunay</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-box" style="background: #ff9100;"></div>
                                <span>Tri√¢ngulo ativo</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-box" style="background: rgba(76, 201, 240, 0.3); border: 2px dashed #4cc9f0;"></div>
                                <span>C√≠rculo circunscrito</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-box" style="background: #f72585;"></div>
                                <span>Fecho convexo</span>
                            </div>
                            <div class="legend-item">
                                <div class="color-box" style="background: rgba(247, 37, 133, 0.2); border: 1px solid #f72585;"></div>
                                <span>Diagrama de Voronoi</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <a href="{{ url_for('index') }}" class="btn btn-secondary">
                            <span class="btn-icon">‚Üê</span> Graham Scan
                        </a>
                        <a href="{{ url_for('voronoi') }}" class="btn btn-secondary">
                            <span class="btn-icon">üìê</span> Voronoi
                        </a>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>Triangula√ß√£o de Delaunay - Visualiza√ß√£o interativa | Criado para fins educacionais</p>
            <p>Dualidade com Voronoi | Algoritmo: Bowyer-Watson (O(n log n) esperado)</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="{{ url_for('static', filename='js/delaunay.js') }}"></script>
    <script src="{{ url_for('static', filename='js/delaunay-viz.js') }}"></script>
</body>
</html>